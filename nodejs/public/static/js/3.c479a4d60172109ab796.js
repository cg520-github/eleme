webpackJsonp([3],{NVmV:function(t,e){t.exports=function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.i=function(t){return t},o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=224)}({0:function(t,e){t.exports=function(t,e,o,n,i){var s,a=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(s=t,a=t.default);var l,c="function"==typeof a?a.options:a;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),n&&(c._scopeId=n),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=l):o&&(l=o),l){var u=c.functional,d=u?c.render:c.beforeCreate;u?c.render=function(t,e){return l.call(e),d(t,e)}:c.beforeCreate=d?[].concat(d,l):[l]}return{esModule:s,exports:a,options:c}}},10:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{spinnerColor:function(){return this.color||this.$parent.color||"#ccc"},spinnerSize:function(){return(this.size||this.$parent.size||28)+"px"}},props:{size:Number,color:String}}},11:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(6),i=o.n(n);e.default={name:"fading-circle",mixins:[i.a],created:function(){if(!this.$isServer){this.styleNode=document.createElement("style");var t=".circle-color-"+this._uid+" > div::before { background-color: "+this.spinnerColor+"; }";this.styleNode.type="text/css",this.styleNode.rel="stylesheet",this.styleNode.title="fading circle style",document.getElementsByTagName("head")[0].appendChild(this.styleNode),this.styleNode.appendChild(document.createTextNode(t))}},destroyed:function(){this.styleNode&&this.styleNode.parentNode.removeChild(this.styleNode)}}},124:function(t,e){},14:function(t,e){},142:function(t,e,o){var n=o(0)(o(64),o(194),function(t){o(124)},null,null);t.exports=n.exports},15:function(t,e,o){var n=o(0)(o(11),o(16),function(t){o(14)},null,null);t.exports=n.exports},16:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["mint-spinner-fading-circle circle-color-"+this._uid],style:{width:this.spinnerSize,height:this.spinnerSize}},this._l(12,function(t){return e("div",{staticClass:"mint-spinner-fading-circle-circle",class:["is-circle"+(t+1)]})}))},staticRenderFns:[]}},194:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mint-loadmore"},[o("div",{staticClass:"mint-loadmore-content",class:{"is-dropped":t.topDropped||t.bottomDropped},style:{transform:t.transform}},[t._t("top",[t.topMethod?o("div",{staticClass:"mint-loadmore-top"},["loading"===t.topStatus?o("spinner",{staticClass:"mint-loadmore-spinner",attrs:{size:20,type:"fading-circle"}}):t._e(),t._v(" "),o("span",{staticClass:"mint-loadmore-text"},[t._v(t._s(t.topText))])],1):t._e()]),t._v(" "),t._t("default"),t._v(" "),t._t("bottom",[t.bottomMethod?o("div",{staticClass:"mint-loadmore-bottom"},["loading"===t.bottomStatus?o("spinner",{staticClass:"mint-loadmore-spinner",attrs:{size:20,type:"fading-circle"}}):t._e(),t._v(" "),o("span",{staticClass:"mint-loadmore-text"},[t._v(t._s(t.bottomText))])],1):t._e()])],2)])},staticRenderFns:[]}},224:function(t,e,o){t.exports=o(32)},32:function(t,e,o){"use strict";var n=o(142),i=o.n(n);Object.defineProperty(e,"__esModule",{value:!0}),o.d(e,"default",function(){return i.a})},6:function(t,e,o){var n=o(0)(o(10),null,null,null,null);t.exports=n.exports},64:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(15),i=o.n(n);e.default={name:"mt-loadmore",components:{spinner:i.a},props:{maxDistance:{type:Number,default:0},autoFill:{type:Boolean,default:!0},distanceIndex:{type:Number,default:2},topPullText:{type:String,default:"下拉刷新"},topDropText:{type:String,default:"释放更新"},topLoadingText:{type:String,default:"加载中..."},topDistance:{type:Number,default:70},topMethod:{type:Function},bottomPullText:{type:String,default:"上拉刷新"},bottomDropText:{type:String,default:"释放更新"},bottomLoadingText:{type:String,default:"加载中..."},bottomDistance:{type:Number,default:70},bottomMethod:{type:Function},bottomAllLoaded:{type:Boolean,default:!1}},data:function(){return{translate:0,scrollEventTarget:null,containerFilled:!1,topText:"",topDropped:!1,bottomText:"",bottomDropped:!1,bottomReached:!1,direction:"",startY:0,startScrollTop:0,currentY:0,topStatus:"",bottomStatus:""}},computed:{transform:function(){return 0===this.translate?null:"translate3d(0, "+this.translate+"px, 0)"}},watch:{topStatus:function(t){switch(this.$emit("top-status-change",t),t){case"pull":this.topText=this.topPullText;break;case"drop":this.topText=this.topDropText;break;case"loading":this.topText=this.topLoadingText}},bottomStatus:function(t){switch(this.$emit("bottom-status-change",t),t){case"pull":this.bottomText=this.bottomPullText;break;case"drop":this.bottomText=this.bottomDropText;break;case"loading":this.bottomText=this.bottomLoadingText}}},methods:{onTopLoaded:function(){var t=this;this.translate=0,setTimeout(function(){t.topStatus="pull"},200)},onBottomLoaded:function(){var t=this;this.bottomStatus="pull",this.bottomDropped=!1,this.$nextTick(function(){t.scrollEventTarget===window?document.body.scrollTop+=50:t.scrollEventTarget.scrollTop+=50,t.translate=0}),this.bottomAllLoaded||this.containerFilled||this.fillContainer()},getScrollEventTarget:function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var o=document.defaultView.getComputedStyle(e).overflowY;if("scroll"===o||"auto"===o)return e;e=e.parentNode}return window},getScrollTop:function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},bindTouchEvents:function(){this.$el.addEventListener("touchstart",this.handleTouchStart),this.$el.addEventListener("touchmove",this.handleTouchMove),this.$el.addEventListener("touchend",this.handleTouchEnd)},init:function(){this.topStatus="pull",this.bottomStatus="pull",this.topText=this.topPullText,this.scrollEventTarget=this.getScrollEventTarget(this.$el),"function"==typeof this.bottomMethod&&(this.fillContainer(),this.bindTouchEvents()),"function"==typeof this.topMethod&&this.bindTouchEvents()},fillContainer:function(){var t=this;this.autoFill&&this.$nextTick(function(){t.scrollEventTarget===window?t.containerFilled=t.$el.getBoundingClientRect().bottom>=document.documentElement.getBoundingClientRect().bottom:t.containerFilled=t.$el.getBoundingClientRect().bottom>=t.scrollEventTarget.getBoundingClientRect().bottom,t.containerFilled||(t.bottomStatus="loading",t.bottomMethod())})},checkBottomReached:function(){return this.scrollEventTarget===window?document.body.scrollTop+document.documentElement.clientHeight>=document.body.scrollHeight:this.$el.getBoundingClientRect().bottom<=this.scrollEventTarget.getBoundingClientRect().bottom+1},handleTouchStart:function(t){this.startY=t.touches[0].clientY,this.startScrollTop=this.getScrollTop(this.scrollEventTarget),this.bottomReached=!1,"loading"!==this.topStatus&&(this.topStatus="pull",this.topDropped=!1),"loading"!==this.bottomStatus&&(this.bottomStatus="pull",this.bottomDropped=!1)},handleTouchMove:function(t){if(!(this.startY<this.$el.getBoundingClientRect().top&&this.startY>this.$el.getBoundingClientRect().bottom)){this.currentY=t.touches[0].clientY;var e=(this.currentY-this.startY)/this.distanceIndex;this.direction=e>0?"down":"up","function"==typeof this.topMethod&&"down"===this.direction&&0===this.getScrollTop(this.scrollEventTarget)&&"loading"!==this.topStatus&&(t.preventDefault(),t.stopPropagation(),this.maxDistance>0?this.translate=e<=this.maxDistance?e-this.startScrollTop:this.translate:this.translate=e-this.startScrollTop,this.translate<0&&(this.translate=0),this.topStatus=this.translate>=this.topDistance?"drop":"pull"),"up"===this.direction&&(this.bottomReached=this.bottomReached||this.checkBottomReached()),"function"==typeof this.bottomMethod&&"up"===this.direction&&this.bottomReached&&"loading"!==this.bottomStatus&&!this.bottomAllLoaded&&(t.preventDefault(),t.stopPropagation(),this.maxDistance>0?this.translate=Math.abs(e)<=this.maxDistance?this.getScrollTop(this.scrollEventTarget)-this.startScrollTop+e:this.translate:this.translate=this.getScrollTop(this.scrollEventTarget)-this.startScrollTop+e,this.translate>0&&(this.translate=0),this.bottomStatus=-this.translate>=this.bottomDistance?"drop":"pull"),this.$emit("translate-change",this.translate)}},handleTouchEnd:function(){"down"===this.direction&&0===this.getScrollTop(this.scrollEventTarget)&&this.translate>0&&(this.topDropped=!0,"drop"===this.topStatus?(this.translate="50",this.topStatus="loading",this.topMethod()):(this.translate="0",this.topStatus="pull")),"up"===this.direction&&this.bottomReached&&this.translate<0&&(this.bottomDropped=!0,this.bottomReached=!1,"drop"===this.bottomStatus?(this.translate="-50",this.bottomStatus="loading",this.bottomMethod()):(this.translate="0",this.bottomStatus="pull")),this.$emit("translate-change",this.translate),this.direction=""}},mounted:function(){this.init()}}}})},ehhp:function(t,e){},wFkw:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o("ehhp");var n=o("NVmV"),i=o.n(n),s=(o("XDqQ"),o("Axha")),a=o.n(s),r=o("7QTg"),l=o("l/JR"),c={name:"TakeOutFood",components:{BottomNav:o("cBse").a,Header:a.a,swiper:r.swiper,swiperSlide:r.swiperSlide,Loadmore:i.a},data:function(){return{isLogin:!1,address:"",navList:[],swiperOption:{pagination:{el:".swiper-pagination"}},pages:1,shopsList:[],up:0,onoffData:!0}},methods:{Jump:function(){this.$router.push("/personal-center")},trunBusiness:function(t){this.$router.push({path:"/business",query:{id:t.id,title:t.title}})},turnSearch:function(){this.$router.push("/search")},turnPosition:function(){this.$router.push("/positioning")},start:function(t){t=t.targetTouches[0],this.up=t.pageY},end:function(t){var e=this;(t=t.changedTouches[0]).pageY-this.up<0&&this.onoffData&&(this.onoffData=!1,this.pages++,setTimeout(function(){l.a.getShopping({latitude:e.$store.state.locationInfo.latitude,longitude:e.$store.state.locationInfo.longitude,offset:20*(e.pages-1)}).then(function(t){e.shopsList=e.shopsList.concat(t),e.onoffData=!0})},1e3))},trunShops:function(t){this.$router.push("/info-shop?id="+t.id)}},created:function(){var t=this,e=this.$store.state.locationInfo;if(e.name)this.address=e.name;else{var o=this;(new BMap.Geolocation).getCurrentPosition(function(t){(new BMap.Geocoder).getLocation(t.point,function(t){o.address=t.addressComponents.city,o.$store.commit("changeLocationInfo",t)})})}l.a.index_entry().then(function(e){for(var o=Math.ceil(e.length/8),n=0;n<o;n++)t.navList[n]=[];e.forEach(function(e,o){var n=Math.floor(o/8);t.navList[n].push(e)})}),l.a.getShopping({latitude:this.$store.state.locationInfo.latitude,longitude:this.$store.state.locationInfo.longitude,offset:20*(this.pages-1)}).then(function(e){t.shopsList=e})},computed:{}},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"index"},[o("div",{staticClass:"position",on:{touchstart:t.turnPosition}}),t._v(" "),o("Header",{attrs:{fixed:"",title:t.address}},[o("span",{staticClass:"el-icon-search",attrs:{slot:"left"},on:{touchstart:t.turnSearch},slot:"left"}),t._v(" "),o("div",{attrs:{slot:"right"},on:{touchstart:t.Jump},slot:"right"},[t.isLogin?o("span",{staticClass:"el-icon-user",on:{touchstart:t.Jump}}):o("div",[t._v("登录/注册")])])]),t._v(" "),o("div",{staticClass:"banner"},[o("swiper",{attrs:{options:t.swiperOption}},[t._l(t.navList,function(e,n){return o("swiper-slide",{key:"pages"+n},t._l(e,function(e,n){return o("div",{key:"sp"+n},[o("img",{attrs:{src:e.image_url}}),t._v(" "),o("h3",{on:{touchstart:function(o){return t.trunBusiness(e)}}},[t._v(t._s(e.title))])])}),0)}),t._v(" "),o("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),t._v(" "),o("div",{staticClass:"shops"},[t._m(0),t._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:!t.onoffData,expression:"!onoffData",modifiers:{fullscreen:!0}}],staticClass:"content",staticStyle:{width:"100%"},attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading"}},t._l(t.shopsList,function(e){return o("div",{staticClass:"item"},[o("div",{staticClass:"left"},[o("img",{attrs:{src:e.image_path},on:{touchstart:function(o){return t.trunShops(e)}}})]),t._v(" "),o("div",{staticClass:"right"},[o("h4",[o("i",[t._v("品牌")]),t._v(" "),o("b",{on:{touchstart:function(o){return t.trunShops(e)}}},[t._v(t._s(e.name))]),t._v(" "),o("span",[t._v("票")]),t._v(" "),o("span",[t._v("准")]),t._v(" "),o("span",[t._v("保")])]),t._v(" "),o("p",[o("el-rate",{attrs:{id:"pf",disabled:""},model:{value:e.rating,callback:function(o){t.$set(e,"rating",o)},expression:"item.rating"}}),t._v("\n\t\t\t\t\t\t月售"+t._s(e.recent_order_num)+"单\n\t\t\t\t\t\t"),o("i",[t._v("准时达")]),t._v(" "),o("i",{style:{backgroundColor:"#"+e.delivery_mode.color,border:"1px solid #"+e.delivery_mode.color}},[t._v(t._s(e.delivery_mode.text))])],1),t._v(" "),o("p",[o("span",[t._v("￥"+t._s(e.float_minimum_order_amount)+"起送/"+t._s(e.piecewise_agent_fee.tips))]),t._v(" "),o("span",[t._v(t._s(e.distance)+"/"),o("b",[t._v(t._s(e.order_lead_time))])])])])])}),0),t._v(" "),o("div",{staticStyle:{height:"2rem","line-height":"2rem","text-align":"center"},on:{touchstart:t.start,touchend:t.end}},[t._v("\n\t\t\t上拉刷新数据\n\t\t")])]),t._v(" "),o("BottomNav")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("span",{staticClass:"el-icon-s-shop"}),this._v("附近商家")])}]};var d=o("VU/8")(c,u,!1,function(t){o("xAiQ")},null,null);e.default=d.exports},xAiQ:function(t,e){}});
//# sourceMappingURL=3.c479a4d60172109ab796.js.map