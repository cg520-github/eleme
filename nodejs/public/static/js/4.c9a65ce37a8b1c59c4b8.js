webpackJsonp([4],{"47j8":function(t,o){},ddPe:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});e("XDqQ");var a=e("Axha"),n=e.n(a),i=e("nSkA"),s=e("l/JR"),r={name:"positionSearch",data:function(){return{add:{},onoff:!0,historyData:[],searchData:[],text:""}},components:{Header:n.a},created:function(){this.add=this.$store.state.locationInfo,this.historyData=i.a.getPosition()},methods:{back:function(){this.$router.back()},submit:function(){var t=this;this.text&&s.a.getSearchPosition({city_id:this.add.id,keyword:this.text}).then(function(o){console.log(o),t.onoff=!1,t.searchData=o})},btnBack:function(t){this.historyData.push(t),i.a.setPosition(this.historyData),this.$store.commit("changeLocationInfo2",t),this.$router.push("/take-out-food")},btnBack2:function(t){i.a.setPosition(this.historyData),this.$store.commit("changeLocationInfo2",t),this.$router.push("/take-out-food")},crear:function(){i.a.clearPosition(),this.historyData=[]}}},c={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"position-search"},[e("Header",{attrs:{fixed:"",title:t.add.name}},[e("span",{staticClass:"el-icon-arrow-left",attrs:{slot:"left"},on:{touchstart:t.back},slot:"left"}),t._v(" "),e("span",{attrs:{slot:"right"},slot:"right"},[t._v("切换城市")])]),t._v(" "),e("div",{staticClass:"search"},[e("div",{staticClass:"tijiao"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"输入学校,商务楼,地址"},domProps:{value:t.text},on:{input:function(o){o.target.composing||(t.text=o.target.value.trim())},blur:function(o){return t.$forceUpdate()}}}),t._v(" "),e("button",{on:{touchstart:t.submit}},[t._v("提交")])]),t._v(" "),t.onoff?e("div",{staticClass:"history"},[t.historyData.length?e("h3",[t._v("历史搜索")]):t._e(),t._v(" "),t.historyData.length?e("ul",t._l(t.historyData,function(o){return e("li",{on:{touchstart:function(e){return t.btnBack2(o)}}},[e("h4",[t._v(t._s(o.name))]),t._v(" "),e("p",[t._v("\n\t\t\t\t\t\t"+t._s(o.address)+"\n\t\t\t\t\t")])])}),0):t._e(),t._v(" "),t.historyData.length?e("button",{on:{touchstart:t.crear}},[t._v("清空所有")]):t._e()]):e("div",{staticClass:"searchData"},[e("ul",t._l(t.searchData,function(o){return e("li",{on:{touchstart:function(e){return t.btnBack(o)}}},[e("h4",[t._v(t._s(o.name))]),t._v(" "),e("p",[t._v("\n\t\t\t\t\t\t"+t._s(o.address)+"\n\t\t\t\t\t")])])}),0)])])],1)},staticRenderFns:[]};var u=e("VU/8")(r,c,!1,function(t){e("47j8")},null,null);o.default=u.exports},nSkA:function(t,o,e){"use strict";var a=e("mvHQ"),n=e.n(a),i={get:function(){var t=window.localStorage.getItem("searched");return t?JSON.parse(t):[]},set:function(t,o){window.localStorage.setItem(t,n()(o))},clear:function(t){window.localStorage.removeItem(t)},getPosition:function(){var t=window.localStorage.getItem("position");return t?JSON.parse(t):[]},setPosition:function(t){window.localStorage.setItem("position",n()(t))},clearPosition:function(){window.localStorage.removeItem("position")}};o.a=i}});
//# sourceMappingURL=4.c9a65ce37a8b1c59c4b8.js.map