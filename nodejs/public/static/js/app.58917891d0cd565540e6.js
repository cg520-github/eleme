webpackJsonp([2],{"6Ctn":function(t,n){},BCMs:function(t,n){},FsII:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("7+uW"),o={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var i=e("VU/8")({name:"App"},o,!1,function(t){e("sAuz")},null,null).exports,a=e("/ocq"),r=e("cBse"),c=e("Au9i"),u=e.n(c),l=e("mvHQ"),f=e.n(l),d={get:function(){var t=window.localStorage.getItem("searched");return t?JSON.parse(t):[]},set:function(t,n){window.localStorage.setItem(t,f()(n))},clear:function(t){window.localStorage.removeItem(t)},getPosition:function(){var t=window.localStorage.getItem("position");return t?JSON.parse(t):[]},setPosition:function(t){window.localStorage.setItem("position",f()(t))},clearPosition:function(){window.localStorage.removeItem("position")}},v=e("l/JR"),h={name:"showShop",props:{dataList:{type:Array,default:[]}},methods:{infoShop:function(t){this.$router.push("/shops/"+t)}}},_={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",t._l(t.dataList,function(n){return e("div",{staticClass:"item",on:{touchstart:function(e){return t.infoShop(n.id)}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:n.image_path,alt:""}})]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"top"},[e("h3",[t._v(t._s(n.name))]),t._v(" "),e("p",[t._v("月销售"+t._s(n.recent_order_num))]),t._v(" "),e("p",[t._v(t._s(n.float_minimum_order_amount)+"元起送/距离"+t._s(n.distance))])]),t._v(" "),t._m(0,!0)])])}),0)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"bottom"},[n("p",[n("span"),this._v("满减优惠"),n("i",[this._v("手机客户端专享")])]),this._v(" "),n("p",[n("span"),this._v("新用户立减"),n("i",[this._v("手机客户端专享")])])])}]};var p=e("VU/8")(h,_,!1,function(t){e("k7H0")},null,null).exports,m={name:"Search",components:{BottomNav:r.a,Header:c.Header,showShop:p},data:function(){return{onoff:!0,searched:[],searchContent:"",reulst:[]}},created:function(){this.searched=d.get("searched")},methods:{btnSuer:function(){var t=this;this.searchContent&&(this.onoff=!1,this.searched.push(this.searchContent),d.set("searched",this.searched),v.a.restaurants({keywords:this.searchContent}).then(function(n){console.log(n),t.reulst=n.data,t.searchContent=""}))},btnClear:function(){d.clear("searched"),this.searched=[]},btn:function(t){var n=this;this.onoff=!1,v.a.restaurants({keywords:t}).then(function(t){console.log(t),n.reulst=t.data,n.searchContent=""})}}},g={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"search"},[e("Header",{attrs:{fixed:"",title:"搜索"}}),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"searchInput"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchContent,expression:"searchContent",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:t.searchContent},on:{input:function(n){n.target.composing||(t.searchContent=n.target.value.trim())},blur:function(n){return t.$forceUpdate()}}}),t._v(" "),e("button",{on:{touchstart:t.btnSuer}},[t._v("提交")])]),t._v(" "),t.onoff?e("div",{staticClass:"historical"},[t.searched.length?e("h3",[t._v("搜索历史")]):t._e(),t._v(" "),t.searched.length?e("ul",t._l(t.searched,function(n){return e("li",{on:{touchstart:function(e){return t.btn(n)}}},[t._v(t._s(n))])}),0):t._e(),t._v(" "),t.searched.length?e("button",{on:{touchstart:t.btnClear}},[t._v("清空搜索历史")]):t._e()]):e("div",{staticClass:"show-search"},[e("h3",[t._v("商家")]),t._v(" "),e("div",[e("showShop",{attrs:{dataList:t.reulst}})],1)])]),t._v(" "),e("BottomNav")],1)},staticRenderFns:[]};var C=e("VU/8")(m,g,!1,function(t){e("FsII")},null,null).exports,b={name:"Order",components:{BottomNav:r.a}},w={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[this._v("\n\t订单\n\t"),n("BottomNav")],1)},staticRenderFns:[]};var y=e("VU/8")(b,w,!1,function(t){e("juJU")},null,null).exports,x={name:"PersonalCenter",components:{BottomNav:r.a}},A={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[this._v("\n\t个人中心\n\t"),n("BottomNav")],1)},staticRenderFns:[]};var S=e("VU/8")(x,A,!1,function(t){e("jv2W")},null,null).exports,I=e("Dd8w"),k=e.n(I),D={name:"Business",methods:{back:function(){this.$router.back()},sel:function(t){this.nowSelect=t},trunShops:function(t){this.$router.push("/shops/"+t.id)},selItem:function(t){this.nowItem=t},sleEnd:function(t){var n=this;this.nowSelect=null,v.a.getRestaurantCategory({latitude:this.$store.state.locationInfo.latitude,longitude:this.$store.state.locationInfo.longitude,restaurant_category_id:this.nowItem.item,tegory_ids:t.id}).then(function(t){n.listShop=t})},px:function(t){var n=this;this.nowSelect=null,v.a.getRestaurantCategory({latitude:this.$store.state.locationInfo.latitude,longitude:this.$store.state.locationInfo.longitude,order_by:t}).then(function(t){n.listShop=t})},selectDistributionMode:function(t){this.nowDistributionMode=t},selectMerchantAttribute:function(t){t.onoff=!t.onoff},clearData:function(){this.nowDistributionMode={};var t=this.merchantAttribute.map(function(t){return k()({},t,{onoff:!1})});this.merchantAttribute=t},suerData:function(){var t=this;this.nowSelect=null,v.a.getShopping({latitude:this.$store.state.locationInfo.latitude,longitude:this.$store.state.locationInfo.longitude,delivery_mode:f()(this.nowDistributionMode),support_ids:f()(this.nowMerchantAttribute)}).then(function(n){t.listShop=n,t.nowDistributionMode={};var e=t.merchantAttribute.map(function(t){return k()({},t,{onoff:!1})});t.merchantAttribute=e})}},components:{Header:c.Header},data:function(){return{nowSelect:null,shopsList:[],classData:[],nowId:null,nowItem:{},distributionMode:[],merchantAttribute:[],nowDistributionMode:{},nowMerchantAttribute:[]}},created:function(){var t=this,n=this.$route.query.id;this.nowId=n,v.a.getShopping({latitude:this.$store.state.locationInfo.latitude,longitude:this.$store.state.locationInfo.longitude,restaurant_category_id:n}).then(function(n){t.shopsList=n}),v.a.getRestaurantCategory({latitude:this.$store.state.locationInfo.latitude,longitude:this.$store.state.locationInfo.longitude}).then(function(n){t.classData=n}),v.a.getDeliveryMods().then(function(n){t.distributionMode=n}),v.a.getCategory().then(function(n){var e=n.map(function(t){return k()({},t,{onoff:!1})});t.merchantAttribute=e})},computed:{fnIndex:function(){var t=this,n=null;return this.classData.map(function(e,s){e.id==t.nowId&&(n=s,t.nowItem=e)}),""+n},fn_nowMerchantAttribute:function(){return this.merchantAttribute.filter(function(t){return t.onoff}).length}},watch:{merchantAttribute:{handler:function(){var t=this;this.nowMerchantAttribute=[],this.merchantAttribute.map(function(n){n.onoff&&t.nowMerchantAttribute.push(n)})},deep:!0}}},T={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"business"},[e("Header",{attrs:{fixed:"",title:this.$route.query.title}},[e("span",{staticClass:"el-icon-arrow-left",attrs:{slot:"left"},on:{touchstart:t.back},slot:"left"})]),t._v(" "),e("div",{staticClass:"select"},[e("ul",[e("li",{class:0==t.nowSelect?"active":"",on:{touchstart:function(n){return t.sel(0)}}},[t._v("\n\t\t\t\t"+t._s(this.$route.query.title)+"\n\t\t\t\t"),e("span",{class:0==t.nowSelect?"el-icon-caret-top":"el-icon-caret-bottom"})]),t._v(" "),e("li",{class:1==t.nowSelect?"active":"",on:{touchstart:function(n){return t.sel(1)}}},[t._v("\n\t\t\t\t排序\n\t\t\t\t"),e("span",{class:1==t.nowSelect?"el-icon-caret-top":"el-icon-caret-bottom"})]),t._v(" "),e("li",{class:2==t.nowSelect?"active":"",on:{touchstart:function(n){return t.sel(2)}}},[t._v("\n\t\t\t\t筛选\n\t\t\t\t"),e("span",{class:2==t.nowSelect?"el-icon-caret-top":"el-icon-caret-bottom"})])])]),t._v(" "),e("div",{staticClass:"content"},[t._l(t.shopsList,function(n){return e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("img",{attrs:{src:n.image_path},on:{touchstart:function(e){return t.trunShops(n)}}})]),t._v(" "),e("div",{staticClass:"right"},[e("h4",[e("i",[t._v("品牌")]),t._v(" "),e("b",{on:{touchstart:function(e){return t.trunShops(n)}}},[t._v(t._s(n.name))]),t._v(" "),e("span",[t._v("票")]),t._v(" "),e("span",[t._v("准")]),t._v(" "),e("span",[t._v("保")])]),t._v(" "),e("p",[e("el-rate",{attrs:{id:"pf",disabled:""},model:{value:n.rating,callback:function(e){t.$set(n,"rating",e)},expression:"item.rating"}}),t._v("\n\t\t\t\t\t月售"+t._s(n.recent_order_num)+"单\n\t\t\t\t\t"),e("i",[t._v("准时达")]),t._v(" "),e("i",{style:{backgroundColor:"#"+n.delivery_mode.color,border:"1px solid #"+n.delivery_mode.color}},[t._v(t._s(n.delivery_mode.text))])],1),t._v(" "),e("p",[e("span",[t._v("￥"+t._s(n.float_minimum_order_amount)+"起送/"+t._s(n.piecewise_agent_fee.tips))]),t._v(" "),e("span",[t._v(t._s(n.distance)+"/"),e("b",[t._v(t._s(n.order_lead_time))])])])])])}),t._v(" "),null!=t.nowSelect?e("div",{staticClass:"mask"},[0==t.nowSelect?e("div",{staticClass:"fl"},[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-menu",{attrs:{"default-active":t.fnIndex}},t._l(t.classData,function(n,s){return e("el-menu-item",{key:""+s,attrs:{index:""+s}},[e("img"),t._v(" "),e("div",{staticStyle:{display:"inline-block"},attrs:{slot:"title"},on:{touchstart:function(e){return t.selItem(n)}},slot:"title"},[e("span",[t._v(t._s(n.name))]),t._v(" "),e("span",[t._v(t._s(n.count))])])])}),1)],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"list"},[e("ul",t._l(t.nowItem.sub_categories,function(n){return e("li",[e("span",{on:{touchend:function(e){return t.sleEnd(n)}}},[t._v(t._s(n.name))]),t._v(" "),e("span",[t._v(t._s(n.count))])])}),0)])])],1)],1):t._e(),t._v(" "),1==t.nowSelect?e("div",{staticClass:"px"},[e("ul",[e("li",{on:{touchstart:function(n){return t.px(4)}}},[t._m(0),t._v(" "),e("div",[t._v("智能排序")])]),t._v(" "),e("li",{on:{touchstart:function(n){return t.px(5)}}},[t._m(1),t._v(" "),e("div",[t._v("距离最近")])]),t._v(" "),e("li",{on:{touchstart:function(n){return t.px(6)}}},[t._m(2),t._v(" "),e("div",[t._v("销量最高")])]),t._v(" "),e("li",{on:{touchstart:function(n){return t.px(1)}}},[t._m(3),t._v(" "),e("div",[t._v("起送价最低")])]),t._v(" "),e("li",{on:{touchstart:function(n){return t.px(3)}}},[t._m(4),t._v(" "),e("div",[t._v("时间")])]),t._v(" "),e("li",{on:{touchstart:function(n){return t.px(2)}}},[t._m(5),t._v(" "),e("div",[t._v("配送速度最快")])])])]):t._e(),t._v(" "),2==t.nowSelect?e("div",{staticClass:"sx"},[e("div",[e("h4",[t._v("配送方式")]),t._v(" "),t._l(t.distributionMode,function(n){return e("button",{style:{color:"#"+n.color},on:{touchstart:function(e){return t.selectDistributionMode(n)}}},[n==t.nowDistributionMode?e("span",{staticClass:"el-icon-check activeDistributionMode"}):t._e(),t._v(t._s(n.text)+"\n\t\t\t\t\t")])})],2),t._v(" "),e("div",[e("h4",[t._v("商家属性（可以多选）")]),t._v(" "),t._l(t.merchantAttribute,function(n){return e("button",{staticStyle:{position:"relative"},on:{touchstart:function(e){return t.selectMerchantAttribute(n)}}},[n.onoff?e("span",{staticClass:"el-icon-check activeDistributionMode",staticStyle:{position:"absolute",top:"0.6rem",left:"0.2rem"}}):e("span",{style:{color:"#"+n.icon_color,border:"1px solid #"+n.icon_color}},[t._v(t._s(n.icon_name))]),t._v("\n\t\t\t\t\t\t"+t._s(n.name)+"\n\t\t\t\t\t")])})],2),t._v(" "),e("p",[e("button",{on:{touchstart:t.clearData}},[t._v("清空")]),t._v(" "),e("button",{on:{touchstart:t.suerData}},[t._v("确定（"+t._s(t.fn_nowMerchantAttribute)+"）")])])]):t._e()]):t._e()],2)],1)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("span",{staticClass:"el-icon-sort"})])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("span",{staticClass:"el-icon-location-outline"})])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("span",{staticClass:"el-icon-magic-stick"})])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("span",{staticClass:"el-icon-coin"})])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("span",{staticClass:"el-icon-time"})])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("span",{staticClass:"el-icon-truck"})])}]};var E=e("VU/8")(D,T,!1,function(t){e("6Ctn")},null,null).exports,R={name:"Zz",data:function(){return{specifications:0}},methods:{sure:function(){this.$emit("fn",{mian:this.foods,content:{price:this.foods.price,specifications:this.specifications},target:this.foods.tagert})},del:function(){this.$emit("del")},sel1:function(t){this.specifications=t.id}},props:{foods:{type:Object,default:{}}}},B={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"bg"},[e("div",{staticClass:"guige"},[e("h2",[t._v(t._s(t.foods.name)),e("span",{staticStyle:{float:"right","padding-right":"0.4rem"},on:{touchstart:t.del}},[t._v("X")])]),t._v(" "),e("p",[t._v("\n\t           "+t._s(t.foods.specifications)+"\n\t       ")]),t._v(" "),e("div",{staticClass:"guige_btn"},t._l(t.foods.values,function(n){return e("button",{staticClass:"btn_active",on:{touchstart:function(e){return t.sel1(n)}}},[t._v("默认")])}),0),t._v(" "),e("div",{staticClass:"add_btn"},[e("span",[t._v("\n\t               ￥"+t._s(t.foods.price)+"\n\t           ")]),t._v(" "),e("button",{on:{touchstart:t.sure}},[t._v("\n\t               加入购物车\n\t           ")])])])])},staticRenderFns:[]};var F={name:"Shops",components:{zz:e("VU/8")(R,B,!1,function(t){e("Ybqp")},null,null).exports},data:function(){return{shopInfo:{name:"",address:"",id:null,phone:"",category:"",supports:[{description:"",icon_color:"",icon_name:"",id:null,name:""}],recent_order_num:null,rating_count:null,rating:null,promotion_info:"",piecewise_agent_fee:{tips:""},opening_hours:[""],is_new:!0,is_premium:!0,image_path:"",float_minimum_order_amount:null,float_delivery_fee:null,distance:"",order_lead_time:"",delivery_mode:{color:"",id:null,text:""}},index:0,menu:[],nowIndex:0,num:0,onoff:!1,foods:{},imgSel:"./static/img/car1.png",score:{},service_score:0,food_score:0,RatingsTags:[],nowTagsIndex:0,pages:1,up:0,onoffData:!0,tag_name:"全部",ugcRatingsData:[],notag:["不满意","差评"]}},methods:{back:function(){this.$router.back()},selIndex:function(t){this.index=t},selectAides:function(t,n){this.nowIndex=t,this.rightData=n;var e=this.$refs["index"+t][0].offsetTop;this.$refs.scroll.scrollTo(0,e)},move:function(t){var n=null;for(var e in this.$refs){var s=this.$refs[e][0];"scroll"!=e&&s.getBoundingClientRect().top>=0&&s.getBoundingClientRect().top<=this.$refs.scroll.offsetHeight-240&&(n=e.substring(5),this.nowIndex=n)}},addNum:function(t){t.onoff?t.num++:(this.onoff=!0,this.foods={name:t.name,specifications:t.specifications.name,values:t.specifications.values,price:t.price,tagert:t})},remNum:function(t){t.num--,0==t.num?t.onoff=!1:t.num<0&&(t.num=0)},sureGoods:function(t){t.target.onoff=!0,t.target.num=1,this.onoff=!1},fnDel:function(){this.onoff=!1},mai:function(){console.log("ok")},ratingsTags:function(t,n){var e=this;this.nowTagsIndex=n,this.tag_name=t.nameTag,v.a.getUgcRatings({restaurant_id:this.$route.params.id,tag_name:this.tag_name,offset:20*(this.pages-1)}).then(function(t){e.ugcRatingsData=t})},start:function(t){t=t.targetTouches[0],this.up=t.pageY},end:function(t){var n=this;(t=t.changedTouches[0]).pageY-this.up<0&&this.onoffData&&(this.onoffData=!1,this.pages++,setTimeout(function(){v.a.getUgcRatings({restaurant_id:n.$route.params.id,tag_name:n.tag_name,offset:20*(n.pages-1)}).then(function(t){n.ugcRatingsData=n.ugcRatingsData.concat(t),n.onoffData=!0})},1e3))}},created:function(){var t=this,n=this.$route.params.id;v.a.getShoppingRestaurant({restaurant_id:n}).then(function(n){t.shopInfo=n}),v.a.getMenu({restaurant_id:n}).then(function(n){n.forEach(function(t){t.foods.forEach(function(t){t.onoff=!1,t.num=0})}),t.menu=n}),v.a.getRatingsScores({restaurant_id:n}).then(function(n){t.score=n,t.service_score=parseFloat(parseFloat(t.score.service_score).toFixed(2)),t.food_score=parseFloat(parseFloat(t.score.food_score).toFixed(2))}),v.a.getRatingsTags({restaurant_id:n}).then(function(n){t.RatingsTags=n}),v.a.getUgcRatings({restaurant_id:n,tag_name:this.tag_name,offset:20*(this.pages-1)}).then(function(n){t.ugcRatingsData=n})},watch:{menu:{handler:function(){var t=!1;this.menu.forEach(function(n){n.foods.forEach(function(n){n.onoff&&(t=!0)})}),this.imgSel=t?"./static/img/car2.png":"./static/img/car1.png"},deep:!0}},computed:{allNum:function(){var t=0;return this.menu.forEach(function(n){n.foods.forEach(function(n){n.onoff&&t++})}),t},allPrice:function(){var t=0;return this.menu.forEach(function(n){n.foods.forEach(function(n){n.onoff&&(t+=n.price*n.num)})}),t},dis:function(){var t=0;return this.menu.forEach(function(n){n.foods.forEach(function(n){n.onoff&&(t+=n.price*n.num)})}),!(t-this.shopInfo.float_minimum_order_amount>=0)&&-(t-this.shopInfo.float_minimum_order_amount)}}},P={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"shopGood"},[s("div",{staticClass:"mask",style:{backgroundColor:"#f60"}}),t._v(" "),s("div",{staticClass:"header"},[s("div",[s("span",{staticClass:"el-icon-arrow-left",on:{touchstart:t.back}}),t._v(" "),s("img",{attrs:{src:"",alt:""}})]),t._v(" "),s("div",[s("h4",[t._v(t._s(t.shopInfo.name))]),t._v(" "),s("p",[t._v(t._s(t.shopInfo.category))]),t._v(" "),s("p",[t._v("公告:"+t._s(t.shopInfo.promotion_info))])])]),t._v(" "),s("div",{staticClass:"info"},[s("ul",{staticClass:"list"},[s("li",{class:0==t.index?"active":"",on:{touchstart:function(n){return t.selIndex(0)}}},[s("span",[t._v("商品")])]),t._v(" "),s("li",{class:1==t.index?"active":"",on:{touchstart:function(n){return t.selIndex(1)}}},[s("span",[t._v("评价")])])]),t._v(" "),0==t.index?s("div",{staticClass:"good"},[s("el-row",[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple-dark1"},[s("ul",t._l(t.menu,function(n,e){return s("li",{class:t.nowIndex==e?"active":"",on:{touchstart:function(s){return t.selectAides(e,n)}}},[t._v(t._s(n.name))])}),0)])]),t._v(" "),s("el-col",{attrs:{span:18}},[s("div",{ref:"scroll",staticClass:"scroll",on:{touchmove:function(n){return t.move(n)}}},t._l(t.menu,function(n,o){return s("div",{ref:"index"+o,refInFor:!0,staticClass:"grid-content bg-purple-dark2"},t._l(n.foods,function(n){return s("div",{staticClass:"shoppingItem"},[s("div",{staticClass:"left"},[s("img",{staticClass:"shopping-img"}),t._v(" "),s("img",{staticClass:"new-products-img",attrs:{src:e("ggud")}})]),t._v(" "),s("div",{staticClass:"right"},[s("h3",[s("span",[t._v(t._s(n.name))]),t._v(" "),s("span",{style:{color:"#"+n.attributes.icon_color}},[t._v(t._s(n.attributes.icon_name))])]),t._v(" "),s("p",[t._v(t._s(n.description))]),t._v(" "),s("p",[s("span",[t._v("月售"+t._s(n.satisfy_count)+"份")]),t._v(" "),s("span",[t._v("好评率"+t._s(100*n.satisfy_rate)+"%")])]),t._v(" "),s("p",[s("span",{staticClass:"unit-price"},[s("i",[t._v("￥")]),t._v(t._s(n.price))]),t._v(" "),s("span",{staticClass:"add-shopping",on:{touchstart:function(e){return t.addNum(n)}}},[t._v("+")]),t._v(" "),n.onoff?s("span",{staticClass:"shopping-num"},[t._v(t._s(n.num))]):t._e(),t._v(" "),n.onoff?s("span",{staticClass:"del-shopping",on:{touchstart:function(e){return t.remNum(n)}}},[t._v("-")]):t._e()])])])}),0)}),0)])],1)],1):s("div",{staticClass:"evaluate"},[s("div",{staticClass:"comprehensive-score"},[s("div",{staticClass:"left"},[s("p",[t._v(t._s(t.score.overall_score))]),t._v(" "),s("p",[t._v("综合评价")]),t._v(" "),s("p",[t._v("高于周边商家"+t._s(100*t.score.compare_rating)+"%")])]),t._v(" "),s("div",{staticClass:"right"},[s("div",[s("span",{staticClass:"title"},[t._v("服务态度")]),t._v(" "),s("el-rate",{attrs:{id:"pf",disabled:"","show-score":"","text-color":"#ff9900"},model:{value:t.service_score,callback:function(n){t.service_score=n},expression:"service_score"}})],1),t._v(" "),s("div",[s("span",{staticClass:"title"},[t._v("菜品评价")]),t._v(" "),s("el-rate",{attrs:{id:"pf",disabled:"","show-score":"","text-color":"#ff9900"},model:{value:t.food_score,callback:function(n){t.food_score=n},expression:"food_score"}})],1),t._v(" "),s("div",[s("span",{staticClass:"title"},[t._v("送达时间")]),t._v(" "),s("span",{staticClass:"service-time"},[t._v(t._s(t.score.deliver_time)+"分钟")])])])]),t._v(" "),s("div",{staticClass:"user-rating"},[s("ul",{staticClass:"label"},t._l(t.RatingsTags,function(n,e){return s("li",{class:{nolabel:-1!=t.notag.indexOf(n.nameTag),active:t.nowTagsIndex==e},on:{touchstart:function(s){return t.ratingsTags(n,e)}}},[t._v(t._s(n.nameTag)+t._s(n.count))])}),0),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:!t.onoffData,expression:"!onoffData",modifiers:{fullscreen:!0}}],staticClass:"content",staticStyle:{width:"100%"},attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading"}},[t._l(t.ugcRatingsData,function(n){return s("div",{staticClass:"appraise"},[s("div",{staticClass:"appraise_box"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:n.avatar,alt:""}})]),t._v(" "),s("div",{staticClass:"right"},[s("h5",[t._v(t._s(n.username)+" "),s("span",[t._v(t._s(n.rated_at))])]),t._v(" "),s("p",[s("el-rate",{attrs:{id:"pf"},model:{value:n.rating_star,callback:function(e){t.$set(n,"rating_star",e)},expression:"item.rating_star"}}),t._v(" "),s("span",[t._v(t._s(n.rating_text))])],1),t._v(" "),s("div",{staticClass:"img_dra"},t._l(n.item_ratings,function(t){return s("img",{attrs:{src:t.image_hash,alt:""}})}),0),t._v(" "),s("div",{staticClass:"com_label"},t._l(n.item_ratings,function(n){return s("span",[t._v(t._s(n.name))])}),0)])])])}),t._v(" "),s("div",{staticStyle:{height:"2rem","line-height":"2rem","text-align":"center"},on:{touchstart:t.start,touchend:t.end}},[t._v("\n\t\t\t\t\t\t上拉刷新数据\n\t\t\t\t\t")])],2)])])]),t._v(" "),t.onoff?s("zz",{attrs:{foods:t.foods},on:{fn:t.sureGoods,del:t.fnDel}}):t._e(),t._v(" "),0==this.index?s("div",{staticClass:"bot"},[s("img",{attrs:{src:t.imgSel}}),t._v(" "),t.allNum?s("i",[t._v(t._s(t.allNum))]):t._e(),t._v(" "),s("div",[s("span",[t._v("￥"+t._s(t.allPrice))]),t._v(" "),s("span",[t._v(t._s(t.shopInfo.piecewise_agent_fee.tips))])]),t._v(" "),t.dis?s("span",[t._v("还差￥"+t._s(t.dis)+"元起送")]):s("span",{staticClass:"js",on:{touchstart:t.mai}},[t._v("去结算")])]):t._e()],1)},staticRenderFns:[]};var M=e("VU/8")(F,P,!1,function(t){e("BCMs")},null,null).exports,U={name:"Positioning",components:{Header:c.Header},data:function(){return{isLogin:!1,newPosition:"",hotCity:"",allCity:""}},created:function(){var t=this;this.newPosition=this.$store.state.locationInfo.name,v.a.getHotCity().then(function(n){t.hotCity=n}),v.a.getAllCity().then(function(n){var e=[];for(var s in n)e.push(s);e.sort();var o={};e.forEach(function(t){o[t]=n[t]}),t.allCity=o})},methods:{btnCity:function(t,n){this.newPosition=t,this.$store.commit("changeLocationInfo1",n)},positionSearch:function(){this.$router.push("/position-search")}}},H={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("Header",{attrs:{fixed:""}},[e("div",{attrs:{slot:"right"},slot:"right"},[t.isLogin?e("span",{staticClass:"el-icon-user"}):e("div",[t._v("登录/注册")])])]),t._v(" "),e("div",{staticClass:"posContent"},[t._m(0),t._v(" "),e("div",{staticClass:"name border",on:{touchstart:function(n){return t.positionSearch()}}},[e("span",[t._v(t._s(t.newPosition))]),e("span",{staticClass:"el-icon-arrow-right"})]),t._v(" "),e("div",{staticClass:"city"},[e("div",{staticClass:"hot"},[e("h4",{staticClass:"border"},[t._v("热门城市")]),t._v(" "),e("ul",t._l(t.hotCity,function(n){return e("li",{on:{touchstart:function(e){return t.btnCity(n.name,n)}}},[t._v(t._s(n.name))])}),0)]),t._v(" "),t._l(t.allCity,function(n,s){return e("div",{staticClass:"sort"},[e("h4",{staticClass:"border"},[t._v(t._s(s)),"A"==s?e("span",[t._v("（按字母排序）")]):t._e()]),t._v(" "),e("ul",t._l(n,function(s){return e("li",{on:{touchstart:function(e){return t.btnCity(s.name,n)}}},[t._v(t._s(s.name))])}),0)])})],2)])],1)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"nowPos border"},[n("span",[this._v("当前定位城市：")]),this._v(" "),n("span",[this._v("定位不准时，请在列表中选择")])])}]};var N=e("VU/8")(U,H,!1,function(t){e("dT6e")},null,null).exports,J={name:"positionSearch",data:function(){return{add:{},onoff:!0,historyData:[],searchData:[],text:""}},components:{Header:c.Header},created:function(){this.add=this.$store.state.locationInfo,this.historyData=d.getPosition()},methods:{back:function(){this.$router.back()},submit:function(){var t=this;this.text&&v.a.getSearchPosition({city_id:this.add.id,keyword:this.text}).then(function(n){console.log(n),t.onoff=!1,t.searchData=n})},btnBack:function(t){this.historyData.push(t),d.setPosition(this.historyData),this.$store.commit("changeLocationInfo2",t),this.$router.push("/take-out-food")},btnBack2:function(t){d.setPosition(this.historyData),this.$store.commit("changeLocationInfo2",t),this.$router.push("/take-out-food")},crear:function(){d.clearPosition(),this.historyData=[]}}},L={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"position-search"},[e("Header",{attrs:{fixed:"",title:t.add.name}},[e("span",{staticClass:"el-icon-arrow-left",attrs:{slot:"left"},on:{touchstart:t.back},slot:"left"}),t._v(" "),e("span",{attrs:{slot:"right"},slot:"right"},[t._v("切换城市")])]),t._v(" "),e("div",{staticClass:"search"},[e("div",{staticClass:"tijiao"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"输入学校,商务楼,地址"},domProps:{value:t.text},on:{input:function(n){n.target.composing||(t.text=n.target.value.trim())},blur:function(n){return t.$forceUpdate()}}}),t._v(" "),e("button",{on:{touchstart:t.submit}},[t._v("提交")])]),t._v(" "),t.onoff?e("div",{staticClass:"history"},[t.historyData.length?e("h3",[t._v("历史搜索")]):t._e(),t._v(" "),t.historyData.length?e("ul",t._l(t.historyData,function(n){return e("li",{on:{touchstart:function(e){return t.btnBack2(n)}}},[e("h4",[t._v(t._s(n.name))]),t._v(" "),e("p",[t._v("\n\t\t\t\t\t\t"+t._s(n.address)+"\n\t\t\t\t\t")])])}),0):t._e(),t._v(" "),t.historyData.length?e("button",{on:{touchstart:t.crear}},[t._v("清空所有")]):t._e()]):e("div",{staticClass:"searchData"},[e("ul",t._l(t.searchData,function(n){return e("li",{on:{touchstart:function(e){return t.btnBack(n)}}},[e("h4",[t._v(t._s(n.name))]),t._v(" "),e("p",[t._v("\n\t\t\t\t\t\t"+t._s(n.address)+"\n\t\t\t\t\t")])])}),0)])])],1)},staticRenderFns:[]};var V=e("VU/8")(J,L,!1,function(t){e("zJA1")},null,null).exports,$={name:"InfoShop",created:function(){console.log(this.$route.query.id)}},W={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var j=e("VU/8")($,W,!1,function(t){e("iYju")},null,null).exports;s.default.use(a.a);var z=new a.a({routes:[{path:"/take-out-food",name:"TakeOutFood",component:function(){return e.e(0).then(e.bind(null,"wFkw"))}},{path:"/search",name:"Search",component:C},{path:"/shops",name:"Shops",component:M,children:[{path:":id",component:M}]},{path:"/order",name:"Order",component:y},{path:"/personal-center",name:"PersonalCenter",component:S},{path:"/business",name:"Business",component:E},{path:"/positioning",name:"Positioning",component:N},{path:"/position-search",name:"positionSearch",component:V},{path:"/info-shop",name:"InfoShop",component:j},{path:"*",redirect:"/take-out-food"}]}),O=(e("d8/S"),e("zL8q")),q=e.n(O),Q=(e("tvR6"),e("7QTg")),K=e.n(Q),X=(e("v2ns"),e("b8UZ"));s.default.use(X.a);var G=new X.a.Store({state:{locationInfo:{pinyin:"",is_map:!0,longitude:null,latitude:null,sort:null,area_code:"",abbr:"",name:"",id:null},position:""},mutations:{changeLocationInfo:function(t,n){t.locationInfo={pinyin:"",is_map:!0,longitude:n.point.lng,latitude:n.point.lat,sort:null,area_code:"",abbr:"",name:n.addressComponents.city,id:null}},changeLocationInfo1:function(t,n){t.locationInfo=n},changeLocationInfo2:function(t,n){t.locationInfo=n}}});s.default.use(K.a),s.default.use(u.a),s.default.use(q.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:z,store:G,components:{App:i},template:"<App/>"})},Ybqp:function(t,n){},cBse:function(t,n,e){"use strict";var s={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"bottom-nav"},[e("ul",[e("router-link",{attrs:{to:"/take-out-food",tag:"li"}},[e("i"),t._v(" "),e("span",[t._v("外卖")])]),t._v(" "),e("router-link",{attrs:{to:"/search",tag:"li"}},[e("i"),t._v(" "),e("span",[t._v("搜索")])]),t._v(" "),e("router-link",{attrs:{to:"/order",tag:"li"}},[e("i"),t._v(" "),e("span",[t._v("订单")])]),t._v(" "),e("router-link",{attrs:{to:"/personal-center",tag:"li"}},[e("i"),t._v(" "),e("span",[t._v("我的")])])],1)])},staticRenderFns:[]};var o=e("VU/8")({name:"BottomNav"},s,!1,function(t){e("kktO")},null,null);n.a=o.exports},"d8/S":function(t,n){},dT6e:function(t,n){},ggud:function(t,n){t.exports="data:image/png;base64,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"},iYju:function(t,n){},juJU:function(t,n){},jv2W:function(t,n){},k7H0:function(t,n){},kktO:function(t,n){},"l/JR":function(t,n,e){"use strict";var s=e("//Fk"),o=e.n(s),i=e("I29D"),a=e.n(i);a.a.create={baseURL:"http://127.0.0.1:3000",timeout:2e3},a.a.interceptors.response.use(function(t){if(200==t.status)return t.data},function(t){return o.a.reject(t)}),a.a.interceptors.request.use(function(t){return t},function(t){return o.a.reject(t)});var r={post:function(t){return a.a.post(t)},get:function(t){return a.a.get(t)}},c="";n.a={index_entry:function(){return r.get(c+"/v2/index_entry")},restaurants:function(t){var n="";for(var e in t)n+=e+"="+t[e]+"&";return r.get(c+"/v4/restaurants?"+n)},getHotCity:function(){return r.get(c+"/v1/cities?type=hot")},getAllCity:function(){return r.get(c+"/v1/cities?type=all")},getSearchPosition:function(t){var n="";for(var e in t)n+=e+"="+t[e]+"&";return r.get(c+"/v1/posi?type=search&"+n)},getShopping:function(t){var n="";for(var e in t)n+=e+"="+t[e]+"&";return r.get(c+"/shopping/restaurants?"+n)},getRestaurantCategory:function(t){var n="";for(var e in t)n+=e+"="+t[e]+"&";return r.get(c+"/restaurant/category?"+n)},getDeliveryMods:function(){return r.get(c+"/shopping/v1/restaurants/delivery_mods")},getCategory:function(){return r.get(c+"/v2/restaurant/category")},getShoppingRestaurant:function(t){var n="";for(var e in t)n+=e+"="+t[e]+"&";return r.get(c+"/shopping/restaurant?"+n)},getMenu:function(t){var n="";for(var e in t)n+=e+"="+t[e]+"&";return r.get(c+"/v2/menu?"+n)},getRatingsScores:function(t){var n="";for(var e in t)n+=e+"="+t[e]+"&";return r.get(c+"/v2/restaurant/1/ratings/scores?"+n)},getRatingsTags:function(t){var n="";for(var e in t)n+=e+"="+t[e]+"&";return r.get(c+"/v2/restaurants/1/ratings/tags?"+n)},getUgcRatings:function(t){var n="";for(var e in t)n+=e+"="+t[e]+"&";return r.get(c+"/ugc/v2/restaurants/ratings?"+n)}}},sAuz:function(t,n){},tvR6:function(t,n){},v2ns:function(t,n){},zJA1:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.58917891d0cd565540e6.js.map